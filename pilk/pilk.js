const spritesheetJSON = {"frames": {

  "91_400_000":
  {
    "frame": {"x":315,"y":392,"w":98,"h":161},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":29,"y":17,"w":98,"h":161},
    "sourceSize": {"w":170,"h":178}
  },
  "92_400_001":
  {
    "frame": {"x":478,"y":393,"w":98,"h":161},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":29,"y":15,"w":98,"h":161},
    "sourceSize": {"w":170,"h":178}
  },
  "93_400_002":
  {
    "frame": {"x":635,"y":593,"w":99,"h":164},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":27,"y":12,"w":99,"h":164},
    "sourceSize": {"w":170,"h":178}
  },
  "94_400_003":
  {
    "frame": {"x":641,"y":393,"w":98,"h":165},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":28,"y":11,"w":98,"h":165},
    "sourceSize": {"w":170,"h":178}
  },
  "95_400_004":
  {
    "frame": {"x":801,"y":593,"w":99,"h":164},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":27,"y":12,"w":99,"h":164},
    "sourceSize": {"w":170,"h":178}
  },
  "96_400_005":
  {
    "frame": {"x":808,"y":393,"w":98,"h":164},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":27,"y":11,"w":98,"h":164},
    "sourceSize": {"w":170,"h":178}
  },
  "97_400_006":
  {
    "frame": {"x":1,"y":489,"w":98,"h":164},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":27,"y":11,"w":98,"h":164},
    "sourceSize": {"w":170,"h":178}
  },
  "98_400_007":
  {
    "frame": {"x":481,"y":795,"w":100,"h":162},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":13,"w":100,"h":162},
    "sourceSize": {"w":170,"h":178}
  },
  "99_400_008":
  {
    "frame": {"x":472,"y":1001,"w":104,"h":164},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":21,"y":12,"w":104,"h":164},
    "sourceSize": {"w":170,"h":178}
  },
  "100_400_009":
  {
    "frame": {"x":800,"y":796,"w":101,"h":165},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":24,"y":11,"w":101,"h":165},
    "sourceSize": {"w":170,"h":178}
  },
  "101_400_010":
  {
    "frame": {"x":161,"y":693,"w":99,"h":168},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":9,"w":99,"h":168},
    "sourceSize": {"w":170,"h":178}
  },
  "102_400_011":
  {
    "frame": {"x":320,"y":293,"w":97,"h":167},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":28,"y":10,"w":97,"h":167},
    "sourceSize": {"w":170,"h":178}
  },
  "104_401_001":
  {
    "frame": {"x":787,"y":1004,"w":104,"h":166},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":29,"y":12,"w":104,"h":166},
    "sourceSize": {"w":170,"h":178}
  },
  "105_401_002":
  {
    "frame": {"x":331,"y":693,"w":99,"h":168},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":10,"w":99,"h":168},
    "sourceSize": {"w":170,"h":178}
  },
  "106_401_003":
  {
    "frame": {"x":625,"y":1,"w":95,"h":170},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":8,"w":95,"h":170},
    "sourceSize": {"w":170,"h":178}
  },
  "107_401_004":
  {
    "frame": {"x":797,"y":1,"w":95,"h":173},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":5,"w":95,"h":173},
    "sourceSize": {"w":170,"h":178}
  },
  "108_401_005":
  {
    "frame": {"x":167,"y":492,"w":98,"h":173},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":5,"w":98,"h":173},
    "sourceSize": {"w":170,"h":178}
  },
  "109_401_006":
  {
    "frame": {"x":1,"y":1210,"w":108,"h":172},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":6,"w":108,"h":172},
    "sourceSize": {"w":170,"h":178}
  },
  "110_401_007":
  {
    "frame": {"x":1,"y":1320,"w":116,"h":170},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":31,"y":7,"w":116,"h":170},
    "sourceSize": {"w":170,"h":178}
  },
  "111_401_008":
  {
    "frame": {"x":661,"y":1219,"w":114,"h":169},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":31,"y":8,"w":114,"h":169},
    "sourceSize": {"w":170,"h":178}
  },
  "112_401_009":
  {
    "frame": {"x":617,"y":1107,"w":107,"h":168},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":8,"w":107,"h":168},
    "sourceSize": {"w":170,"h":178}
  },
  "113_401_010":
  {
    "frame": {"x":788,"y":899,"w":103,"h":171},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":7,"w":103,"h":171},
    "sourceSize": {"w":170,"h":178}
  },
  "114_401_011":
  {
    "frame": {"x":159,"y":895,"w":101,"h":171},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":7,"w":101,"h":171},
    "sourceSize": {"w":170,"h":178}
  },
  "279_901_000":
  {
    "frame": {"x":331,"y":1215,"w":110,"h":163},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":19,"y":15,"w":110,"h":163},
    "sourceSize": {"w":170,"h":178}
  },
  "280_901_001":
  {
    "frame": {"x":623,"y":98,"w":96,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":21,"y":18,"w":96,"h":160},
    "sourceSize": {"w":170,"h":178}
  },
  "281_901_002":
  {
    "frame": {"x":1,"y":689,"w":99,"h":158},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":15,"y":20,"w":99,"h":158},
    "sourceSize": {"w":170,"h":178}
  },
  "282_901_003":
  {
    "frame": {"x":342,"y":493,"w":98,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":15,"y":22,"w":98,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "283_901_004":
  {
    "frame": {"x":489,"y":294,"w":97,"h":159},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":16,"y":19,"w":97,"h":159},
    "sourceSize": {"w":170,"h":178}
  },
  "284_901_005":
  {
    "frame": {"x":496,"y":1216,"w":112,"h":163},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":19,"y":15,"w":112,"h":163},
    "sourceSize": {"w":170,"h":178}
  },
  "285_901_006":
  {
    "frame": {"x":173,"y":1327,"w":130,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":20,"y":18,"w":130,"h":160},
    "sourceSize": {"w":170,"h":178}
  },
  "286_901_007":
  {
    "frame": {"x":335,"y":1327,"w":135,"h":158},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":20,"y":20,"w":135,"h":158},
    "sourceSize": {"w":170,"h":178}
  },
  "287_901_008":
  {
    "frame": {"x":495,"y":1330,"w":139,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":20,"y":21,"w":139,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "288_901_009":
  {
    "frame": {"x":832,"y":1219,"w":139,"h":155},
    "rotated": false,
    "trimmed": true,
    "spriteSourceSize": {"x":18,"y":23,"w":139,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "289_902_000":
  {
    "frame": {"x":500,"y":493,"w":98,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":18,"w":98,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "290_902_001":
  {
    "frame": {"x":659,"y":493,"w":98,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":33,"y":18,"w":98,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "291_902_002":
  {
    "frame": {"x":159,"y":998,"w":103,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":31,"y":15,"w":103,"h":160},
    "sourceSize": {"w":170,"h":178}
  },
  "292_902_003":
  {
    "frame": {"x":296,"y":1105,"w":106,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":30,"y":15,"w":106,"h":160},
    "sourceSize": {"w":170,"h":178}
  },
  "293_902_004":
  {
    "frame": {"x":458,"y":1107,"w":106,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":29,"y":19,"w":106,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "294_902_005":
  {
    "frame": {"x":175,"y":1213,"w":108,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":28,"y":22,"w":108,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "295_902_006":
  {
    "frame": {"x":787,"y":1110,"w":107,"h":155},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":28,"y":20,"w":107,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "296_902_007":
  {
    "frame": {"x":1,"y":994,"w":103,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":31,"y":19,"w":103,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "297_902_008":
  {
    "frame": {"x":785,"y":98,"w":96,"h":162},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":33,"y":13,"w":96,"h":162},
    "sourceSize": {"w":170,"h":178}
  },
  "298_902_009":
  {
    "frame": {"x":650,"y":294,"w":97,"h":162},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":33,"y":13,"w":97,"h":162},
    "sourceSize": {"w":170,"h":178}
  },
  "299_902_010":
  {
    "frame": {"x":501,"y":694,"w":99,"h":161},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":14,"w":99,"h":161},
    "sourceSize": {"w":170,"h":178}
  },
  "300_902_011":
  {
    "frame": {"x":1,"y":589,"w":98,"h":158},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":17,"w":98,"h":158},
    "sourceSize": {"w":170,"h":178}
  },
  "301_903_000":
  {
    "frame": {"x":664,"y":694,"w":99,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":20,"w":99,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "302_903_001":
  {
    "frame": {"x":814,"y":294,"w":97,"h":155},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":21,"w":97,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "303_903_002":
  {
    "frame": {"x":818,"y":493,"w":98,"h":155},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":21,"w":98,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "304_903_003":
  {
    "frame": {"x":1,"y":390,"w":97,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":29,"y":20,"w":97,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "305_903_004":
  {
    "frame": {"x":161,"y":592,"w":98,"h":155},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":21,"w":98,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "306_903_005":
  {
    "frame": {"x":1,"y":96,"w":95,"h":153},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":34,"y":23,"w":95,"h":153},
    "sourceSize": {"w":170,"h":178}
  },
  "307_903_006":
  {
    "frame": {"x":318,"y":593,"w":98,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":33,"y":22,"w":98,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "308_903_007":
  {
    "frame": {"x":467,"y":97,"w":96,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":27,"y":22,"w":96,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "309_903_008":
  {
    "frame": {"x":155,"y":194,"w":96,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":25,"y":22,"w":96,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "310_903_009":
  {
    "frame": {"x":1,"y":193,"w":96,"h":152},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":22,"y":24,"w":96,"h":152},
    "sourceSize": {"w":170,"h":178}
  },
  "311_903_010":
  {
    "frame": {"x":157,"y":1,"w":94,"h":152},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":26,"y":24,"w":94,"h":152},
    "sourceSize": {"w":170,"h":178}
  },
  "312_903_011":
  {
    "frame": {"x":1,"y":1,"w":93,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":34,"y":22,"w":93,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "313_903_012":
  {
    "frame": {"x":156,"y":97,"w":95,"h":152},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":35,"y":24,"w":95,"h":152},
    "sourceSize": {"w":170,"h":178}
  },
  "314_903_013":
  {
    "frame": {"x":311,"y":194,"w":96,"h":151},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":37,"y":25,"w":96,"h":151},
    "sourceSize": {"w":170,"h":178}
  },
  "315_903_014":
  {
    "frame": {"x":311,"y":1,"w":94,"h":152},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":36,"y":24,"w":94,"h":152},
    "sourceSize": {"w":170,"h":178}
  },
  "316_904_000":
  {
    "frame": {"x":622,"y":196,"w":96,"h":161},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":25,"y":17,"w":96,"h":161},
    "sourceSize": {"w":170,"h":178}
  },
  "317_904_001":
  {
    "frame": {"x":785,"y":196,"w":96,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":23,"y":18,"w":96,"h":160},
    "sourceSize": {"w":170,"h":178}
  },
  "318_904_002":
  {
    "frame": {"x":474,"y":593,"w":98,"h":159},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":20,"y":19,"w":98,"h":159},
    "sourceSize": {"w":170,"h":178}
  },
  "319_904_003":
  {
    "frame": {"x":465,"y":1,"w":94,"h":158},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":18,"y":20,"w":94,"h":158},
    "sourceSize": {"w":170,"h":178}
  },
  "320_904_004":
  {
    "frame": {"x":464,"y":195,"w":96,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":11,"y":22,"w":96,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "321_904_005":
  {
    "frame": {"x":310,"y":97,"w":95,"h":155},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":10,"y":23,"w":95,"h":155},
    "sourceSize": {"w":170,"h":178}
  },
  "322_904_006":
  {
    "frame": {"x":1,"y":292,"w":96,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":15,"y":21,"w":96,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "323_904_007":
  {
    "frame": {"x":822,"y":694,"w":100,"h":152},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":19,"y":26,"w":100,"h":152},
    "sourceSize": {"w":170,"h":178}
  },
  "324_904_008":
  {
    "frame": {"x":1,"y":891,"w":101,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":24,"y":22,"w":101,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "325_904_009":
  {
    "frame": {"x":1,"y":790,"w":99,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":28,"y":21,"w":99,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "326_904_010":
  {
    "frame": {"x":159,"y":390,"w":97,"h":154},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":38,"y":24,"w":97,"h":154},
    "sourceSize": {"w":170,"h":178}
  },
  "327_904_011":
  {
    "frame": {"x":160,"y":794,"w":99,"h":157},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":40,"y":21,"w":99,"h":157},
    "sourceSize": {"w":170,"h":178}
  },
  "328_904_012":
  {
    "frame": {"x":480,"y":897,"w":102,"h":156},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":54,"y":22,"w":102,"h":156},
    "sourceSize": {"w":170,"h":178}
  },
  "329_904_013":
  {
    "frame": {"x":1,"y":1099,"w":104,"h":151},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":57,"y":27,"w":104,"h":151},
    "sourceSize": {"w":170,"h":178}
  },
  "330_904_014":
  {
    "frame": {"x":321,"y":1000,"w":103,"h":149},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":58,"y":29,"w":103,"h":149},
    "sourceSize": {"w":170,"h":178}
  },
  "331_904_015":
  {
    "frame": {"x":154,"y":1103,"w":105,"h":140},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":59,"y":38,"w":105,"h":140},
    "sourceSize": {"w":170,"h":178}
  },
  "332_904_016":
  {
    "frame": {"x":332,"y":895,"w":103,"h":146},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":58,"y":32,"w":103,"h":146},
    "sourceSize": {"w":170,"h":178}
  },
  "333_904_017":
  {
    "frame": {"x":638,"y":1001,"w":104,"h":147},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":57,"y":31,"w":104,"h":147},
    "sourceSize": {"w":170,"h":178}
  },
  "334_904_018":
  {
    "frame": {"x":638,"y":897,"w":102,"h":148},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":57,"y":30,"w":102,"h":148},
    "sourceSize": {"w":170,"h":178}
  },
  "335_904_019":
  {
    "frame": {"x":645,"y":795,"w":100,"h":153},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":54,"y":25,"w":100,"h":153},
    "sourceSize": {"w":170,"h":178}
  },
  "336_904_020":
  {
    "frame": {"x":160,"y":292,"w":96,"h":158},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":43,"y":20,"w":96,"h":158},
    "sourceSize": {"w":170,"h":178}
  },
  "337_904_021":
  {
    "frame": {"x":319,"y":794,"w":99,"h":160},
    "rotated": true,
    "trimmed": true,
    "spriteSourceSize": {"x":32,"y":18,"w":99,"h":160},
    "sourceSize": {"w":170,"h":178}
  }},
  "meta": {
    "app": "https://www.codeandweb.com/texturepacker",
    "version": "1.1",
    "image": "spritesheets/necoarc.png",
    "format": "RGBA8888",
    "size": {"w":975,"h":1470},
    "scale": "1",
    "smartupdate": "$TexturePacker:SmartUpdate:0f09ed69da0879e084a4f82685e0f9c7:64b352d6d8f5328b0b1ddfdf31dd00ad:169702707a0ce53da2f2a038f4830835$"
  },
    "animations": { // TODO: animations are grouped into sets in the format {ID}_{GROUP_ID}_{ORDER_IN_GROUP}
    // TODO: automatically create groups based on format {ID}_{GROUP_ID}_{ORDER_IN_GROUP}
    walkingRight: [
      "91_400_000", "92_400_001", "93_400_002","94_400_003",
      "95_400_004", "96_400_005", "97_400_006","98_400_007",
      "99_400_008", "100_400_009", "101_400_010","102_400_011"
    ],
    walkingLeft: [
      // "103_401_000", 
      "104_401_001", "105_401_002","106_401_003",
      "107_401_004", "108_401_005", "109_401_006","110_401_007",
      "111_401_008", "112_401_009", "113_401_010","114_401_011"
    ],
    idleDance1: ['289_902_000', '290_902_001', '291_902_002', '292_902_003', '293_902_004', '294_902_005', '295_902_006', '296_902_007', '297_902_008', '298_902_009', '299_902_010', '301_903_000', '302_903_001', '303_903_002', '304_903_003', '305_903_004', '306_903_005', '307_903_006', '308_903_007', '309_903_008', '310_903_009', '311_903_010', '312_903_011', '313_903_012', '314_903_013', '315_903_014', '316_904_000', '317_904_001', '318_904_002', '319_904_003', '320_904_004', '321_904_005', '322_904_006', '323_904_007', '324_904_008', '325_904_009', '326_904_010', '327_904_011', '328_904_012', '329_904_013', '330_904_014', '331_904_015', '332_904_016', '333_904_017', '334_904_018', '335_904_019', '336_904_020', '337_904_021'],
    idleDance2: ['279_901_000', '280_901_001', '281_901_002', '282_901_003', '283_901_004', '284_901_005', '285_901_006', '286_901_007', '287_901_008', '288_901_009']
  }
}
const BACKGROUND_MARGIN = 300;
const validMovementKeyCodes = {"87": true, "65": true, "83": true, "68": true }
const WALKING_RIGHT_ANIMATION = 0;
const WALKING_LEFT_ANIMATION = 1;
const IDLE_ANIMATION = 2;
const IDLE_ANIMATION_KEYS = ['idleDance1', 'idleDance2']

function getRandomDanceMoveKey() {
  return IDLE_ANIMATION_KEYS[Math.floor(Math.random() * IDLE_ANIMATION_KEYS.length)];
}

// Test For Hit https://pixijs.com/examples/advanced/collision-detection
// A basic AABB check between two different squares
function testForAABB(object1, object2)
{
    const bounds1 = object1.getBounds();
    const bounds2 = object2.getBounds();

    return bounds1.x < bounds2.x + bounds2.width
        && bounds1.x + bounds1.width > bounds2.x
        && bounds1.y < bounds2.y + bounds2.height
        && bounds1.y + bounds1.height > bounds2.y;
}

async function start()  {
  // Create the application helper and add its render target to the page
  let app = new PIXI.Application({ resizeTo: window });  // TODO: Investigate toResize: window
  document.body.appendChild(app.view);

  const spritesheet = new PIXI.Spritesheet(
    PIXI.BaseTexture.from(spritesheetJSON.meta.image), 
    spritesheetJSON
  )
  await spritesheet.parse();

  // Background
  let background = PIXI.Sprite.from('assets/mbtl.png')
  background.height = app.screen.height;
  background.width = app.screen.width;
  app.stage.addChild(background);

  // Container to hold all sprites
  const spriteRootContainer = new PIXI.Container();
  spriteRootContainer.x = 0;
  spriteRootContainer.y = app.screen.height - BACKGROUND_MARGIN;

  app.stage.addChild(spriteRootContainer);
  // looping animated sprite for neco arc
  const anim = new PIXI.AnimatedSprite(spritesheet.animations.idleDance2);
  anim.animationSpeed = 0.1666;
  anim.play();
  let curAnimation = IDLE_ANIMATION;
  spriteRootContainer.addChild(anim);

  // Spawn magical pair of jordans
  const necoArcJordans = PIXI.Sprite.from("assets/necoarcjordans.jpeg");
  necoArcJordans.height = 170;
  necoArcJordans.width = 170;

  necoArcJordans.x = app.screen.width * 3 / 4;
  spriteRootContainer.addChild(necoArcJordans);

  // Move neko arc closer to the app.stage
  // Change neco arc's walkingRight animation based on whether
  // the new position is to the left or to the right
  // Add keyboard input
  window.addEventListener("keydown", keysDown);
  window.addEventListener("keyup", keysUp);
  let keys = {}
  function keysDown(e) { // Handle wasd input for neco arc
    keys[e.keyCode] = true;
    if (validMovementKeyCodes[e.keyCode])  {
      // switch textures on changing horizontal directory
      if (keys["65"] && !(keys["68"] || keys["83"] || keys["87"]) && curAnimation != WALKING_LEFT_ANIMATION)  { // Pressing A and not D. Go left
        // anim.textures = anim["walkingLeft"]
        anim.textures = spritesheet.animations["walkingLeft"]
        curAnimation = WALKING_LEFT_ANIMATION;
        anim.play()
      } 
      else if (!keys["65"] && (keys["68"] || keys["83"] || keys["87"])  && curAnimation != WALKING_RIGHT_ANIMATION) {
        anim.textures = spritesheet.animations["walkingRight"]
        curAnimation = WALKING_RIGHT_ANIMATION;
        anim.play()
      }
    }
  }
  function keysUp(e) {  // Turn off input
    keys[e.keyCode] = false;
    // TODO: Check validMovementKeyCodes
      // Check all validMovementKeyCodes are false
      // set animation to idle
    if (!keys["65"] && !(keys["68"] || keys["83"] || keys["87"]) && curAnimation != IDLE_ANIMATION) {
      anim.textures = spritesheet.animations[getRandomDanceMoveKey()]
      curAnimation = IDLE_ANIMATION;
      anim.play()
    }
  }
  // Game loop including walkingRight animation, collision detection, etc/
  function gameLoop(delta)  { // Main game loop
    // TODO: Add velocity calculation
    if (keys["87"]) { // w
      if (anim.y < - app.screen.height)  {
        anim.y = BACKGROUND_MARGIN;
      } else  {
        anim.y -= 12 * delta;
      }
    }
    if (keys["65"]) { // a
      if (anim.x < -BACKGROUND_MARGIN)  {
        anim.x = app.screen.width + BACKGROUND_MARGIN;
      } else  {
        anim.x -= 12 * delta;
      }
    }
    if (keys["83"]) { // s
      if (anim.y > BACKGROUND_MARGIN)  {
        anim.y = - app.screen.height;
      } else  {
        anim.y += 12 * delta;
      }
    }
    if (keys["68"]) { // d
      if (anim.x > app.screen.width + BACKGROUND_MARGIN)  {
        anim.x = - BACKGROUND_MARGIN;
      } else  {
        anim.x += 12 * delta;
      }
    }
  }
  app.ticker.add(gameLoop);

}
start();
var audio = new Audio('assets/necoArcTheme.opus');
audio.play();
